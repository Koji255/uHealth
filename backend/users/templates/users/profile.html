{% extends "base.html" %}
{% load static %}

{% block head %}
    <title>profile</title>
{% endblock %}

{% block body %}
    <!-- <center>
        <h1 style="margin-top: 2rem !important; color: #171a1d; background: none; border: none; font-size:3rem; font-weight: 500;">
            Авторизация
        </h1>

        <hr style="width: 18rem;">
    </center> -->
    <div class="left-container">
        <img src="{% static 'media/avatar.svg' %}" class="img-fluid" name="avatar" alt="avatar">
    </div>

    <div class="mb-3" style="width:35rem; margin: 2.5rem auto !important;">


        <form action="{% url 'users:user_profile' %}" method="post">
            <div class="form-container" style="margin-bottom: -1.5rem; padding-inline: 2rem; padding-top: 1.5rem; padding-bottom: 1rem; ">
            {% csrf_token %}

            {{ form.as_p }}

            <!-- <button type="submit" class="btn btn-dark" style="border-radius: 15px; background-color: #2c3338; margin-left: 23rem !important">Подтвердить</button> -->
            <!-- <a type="button" class="data-change" style="position: absolute; background: none; border: none;">Изменить информацию</a> -->
            <button type="submit" class="data-change" style="position: absolute; border: none; background: none;">Confirm Changes</button>
            <a href="{% url 'users:user_change_password' %}" class="data-change" style=" text-decoration: none; margin-left: 22rem !important;">Change Password</a>

            </div>

            <!-- {% if form.errors %}
            <div class="alert alert-danger">
                <ul>
                    {% for field, errors in form.errors.items %}
                        {% for error in errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    {% endfor %}
                </ul>
            </div>
            {% endif %}

            {% if form.non_field_errors %}
            <div class="alert alert-danger">
                {% for error in form.non_field_errors %}
                    <p>{{ error }}</p>
                {% endfor %}
            </div>
            {% endif %} -->
            
        </form>

        <center style="margin-top: 6rem"><h3>Appointments history</h3></center>

        <div class="history-container" style="position: absolute; margin: 1rem auto;">
            <table class="table table-light table-rounded" style="width: 60vw; border-radius: 20px;">
                <thead>
                    <tr>
                    <th scope="col">Date created</th>
                    <th scope="col">Status</th>
                    <th scope="col">Specialization</th>
                    <th scope="col">Appointment time</th>
                    <th scope="col">Comment</th>
                    </tr>
                </thead>
                <tbody>
                    {% for row in appointments %}
                        <tr>
                            <td>{{ row.date_created }}</th>
                            <td>{{ row.status }}</td>
                            <td>{{ row.specialization }}</td>
                            <td>{{ row.time }}</th>
                            <td>{{ row.comment }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
                </table>
        </div>

    </div>

{% endblock %}
